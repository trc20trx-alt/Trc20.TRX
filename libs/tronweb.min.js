!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).TronWeb=e()}(this,(function(){"use strict";function t(t){return(t=t.toString().replace(/^0x/i,"")).length%2===0?t:"0"+t}function e(t){return"0x"+t.toString(16)}function n(t){return t.replace(/^0x/i,"")}function r(t){return t.map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function o(t){return new Uint8Array(t.match(/.{1,2}/g).map((function(t){return parseInt(t,16)}))}function i(t){return t.reduce((function(t,e){return t*256+e}),0)}function s(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t,0),n.set(e,t.length),n}function a(t){return t.split("").reverse().join("")}function c(t){return new Promise((function(e,n){try{e(t)}catch(t){n(t)}}))}function u(t,e,n){return new Promise((function(r,o){t.addEventListener(e,(function t(e){r(e),n&&t.target.removeEventListener(e.type,t)}),{once:!0}),setTimeout((function(){o(new Error("Timeout"))}),1e4)}))}function l(t,e,n,r,o,i){return new Promise((function(a,c){const u=function(){if(!t)return void c(new Error("No provider"));let l=e;for(const e of Object.keys(n))n[e]instanceof Uint8Array&&(n[e]=t.utils.bytesToHex(n[e])),n[e]instanceof ArrayBuffer&&(n[e]=t.utils.bytesToHex(new Uint8Array(n[e]))),n[e]instanceof Date&&(n[e]=n[e].toISOString());const d=JSON.stringify({jsonrpc:"2.0",id:1,method:l,params:[n]});t.send(d,(function(t,e,n){if(t)return void c(t);if(n)return void c(new Error(n.message));if(!e.result&&!e.error)return void c(new Error("No result or error"));if(e.error)return void c(new Error(e.error.message||JSON.stringify(e.error)));if("gettransactioninfobyid"===l&&e.result.receipt&&e.result.receipt.result&&"0x0"!==e.result.receipt.result)return void c(new Error("Transaction failed: "+e.result.receipt.result));if("eth_call"===l&&e.result.error)return void c(new Error(e.result.error.message));let t=e.result;o&&(t=o(t)),a(t)}))};if(t.ready)u();else{const e=function(){t.removeListener("ready",e),u()};t.on("ready",e)}}))}function d(t,e,n,r){return new Promise((function(o,i){if(!t)return void i(new Error("No provider"));const a=e.map((function(e){return{name:e,type:n[e]}}));t.request({method:"eth_signTypedData_v4",params:[r,a]}).then((function(t){o(t)})).catch((function(t){i(t)}))}function p(t,e){return new Promise((function(n,r){if(!t)return void r(new Error("No provider"));t.request({method:"personal_sign",params:[e,t.selectedAddress]}).then((function(t){n(t)})).catch((function(t){r(t)}))}))}function f(t){return new Promise((function(e,n){if(!t)return void n(new Error("No provider"));t.request({method:"eth_accounts"}).then((function(t){e(t[0]||null)})).catch((function(t){n(t)}))}))}function m(t,e,n,r){return new Promise((function(o,i){if(!t)return void i(new Error("No provider"));const a=JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_sendTransaction",params:[e]});t.send(a,(function(t,e,n){if(t)return void i(t);if(n)return void i(new Error(n.message));if(!e.result&&!e.error)return void i(new Error("No result or error"));if(e.error)return void i(new Error(e.error.message||JSON.stringify(e.error)));o(e.result)}))}))}function b(t){return t.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()}function g(t){if(!t||t.length<42)return"";const e=t.startsWith("0x")?t.slice(2):t;return e.length<40?e.padStart(40,"0"):e.slice(0,40)}function h(t){return"0x"+g(t)}function v(t){if(!t)return"";const e=t.toString().replace(/^0x/i,"");return e.length%2===0?e:"0"+e}function w(t){const e=v(t);if(e.length!==42)return"";const n=e.slice(0,2),r=e.slice(2);return n.toUpperCase()+"41"+r.toUpperCase()}function x(t){if(!t)return"";const e=t.toString().replace(/^0x/i,"");return e.length!==44?e:"41"+e.slice(2)}function y(t){return t.replace(/^41/i,"0x")}function k(t){return t.startsWith("0x")?t.slice(2):t}function _(t){return new Uint8Array(t.match(/.{1,2}/g).map((function(t){return parseInt(t,16)}))}function A(t){return Array.from(t).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function S(t){return t.reduce((function(t,e){return t*256+e}),0)}function T(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t,0),n.set(e,t.length),n}function E(t){return t.split("").reverse().join("")}function I(t){return t.map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function L(t){return new Promise((function(e,n){try{e(t)}catch(t){n(t)}}))}function O(t,e,n){return new Promise((function(r,o){t.addEventListener(e,(function t(e){r(e),n&&t.target.removeEventListener(e.type,t)}),{once:!0}),setTimeout((function(){o(new Error("Timeout"))}),1e4)}))}const C={fromDecimal:function(t){return e(parseInt(t,10))},toDecimal:function(t){return parseInt(n(t),16)},fromAscii:function(t){let e="";for(let n=0;n<<t.length;n++)e+=t.charCodeAt(n).toString(16);return"0x"+e},toAscii:function(t){let e="";t=n(t);for(let n=0;n<<t.length;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e},fromUtf8:function(t){try{return"0x"+unescape(encodeURIComponent(t)).split("").map((function(t){return t.charCodeAt(0).toString(16)}).join(""))}catch(t){return this.fromAscii(t)}},toUtf8:function(t){try{return decodeURIComponent(escape(this.toAscii(t)))}catch(t){return this.toAscii(t)}},toHex:function(t){if(null==t)return"0x0";if("string"==typeof t)return t.startsWith("0x")?t:this.fromUtf8(t);if(Array.isArray(t)||t instanceof Uint8Array)return"0x"+r(t);if(t instanceof Buffer)return"0x"+t.toString("hex");if("number"==typeof t)return 0===t?"0x0":e(t);if(t instanceof BigInt)return"0x"+t.toString(16);throw new Error("Unsupported type")},bytesToHex:function(t){return"0x"+r(t)},hexToBytes:function(t){return o(n(t))},isHex:function(t){return/^0x[0-9a-fA-F]*$/.test(t)},padLeft:function(t,e,n){return void 0===n&&(n="0"),t=k(t),e=t.length+1>>1,e<<e&&(t=(n.repeat(e)+t).slice(-e*2)),"0x"+t},padRight:function(t,e,n){return void 0===n&&(n="0"),t=k(t),e=t.length+1>>1,e<<e&&(t=(t+n.repeat(e)).slice(0,e*2)),"0x"+t},toBigNumber:function(t){return t instanceof BigNumber?t:"string"==typeof t&&t.startsWith("0x")?new BigNumber(t,16):new BigNumber(t)},isAddress:function(t){try{return this.isHex(h(t))&&42===h(t).length}catch(t){return!1}},toTronAddress:function(t){try{return t.startsWith("0x")?w(t):t}catch(t){return""}},fromTronAddress:function(t){try{return t.startsWith("41")?y(t):t}catch(t){return""}},formatters:{inputAddress:function(t){return C.toTronAddress(t)},inputUint:function(t,e){const n=C.toBigNumber(t);if(n.lt(0))throw new Error("uint cannot be negative");if(n.gt(new BigNumber(2).pow(e).minus(1)))throw new Error(`uint${e} out of range`);return C.fromDecimal(n.toString())},inputInt:function(t,e){const n=C.toBigNumber(t);if(n.lt(new BigNumber(-1).times(new BigNumber(2).pow(e-1))))throw new Error(`int${e} out of range`);if(n.gt(new BigNumber(2).pow(e-1).minus(1)))throw new Error(`int${e} out of range`);return n.isNegative()?C.fromDecimal(n.plus(new BigNumber(2).pow(e)).toString()):C.fromDecimal(n.toString())},inputBool:function(t){return!!t},inputBytes:function(t){return C.toHex(t)},inputString:function(t){return C.toHex(t)},outputAddress:function(t){return C.fromTronAddress(t)},outputUint:function(t){return C.toDecimal(t)},outputInt:function(t,e){const n=C.toDecimal(t);return n>=new BigNumber(2).pow(e-1).toNumber()?n-new BigNumber(2).pow(e).toNumber():n},outputBool:function(t){return"0x1"===t||"1"===t},outputBytes:function(t){return C.hexToBytes(t)},outputString:function(t){return C.toUtf8(t)}}};class N{constructor(t={}){this.utils=C,this.providers={},this.setProvider(t.fullHost||"https://api.trongrid.io"),this.defaultBlock="latest",this.transactionPollingTimeout=1e4,this.transactionPollingInterval=500,this.events={},this.ready=!1,this.on("ready",(function(){this.ready=!0}).bind(this))}setProvider(t){if("string"==typeof t){const e=t.includes("http")?t:`https://${t}`;this.provider={send:function(t,n){return new Promise((function(r,o){fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(t){return t.json()})).then((function(t){n(null,t)})).catch((function(t){n(t)}))})}};return this}if("object"==typeof t&&t.send){this.provider=t;return this}throw new Error("Invalid provider")}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){if(!this.events[t])return;const n=this.events[t].indexOf(e);-1!==n&&this.events[t].splice(n,1)}emit(t,...e){if(!this.events[t])return;this.events[t].forEach((function(n){n.apply(null,e)}))}request(t){return new Promise((function(e,n){this.provider.send(JSON.stringify(t),(function(t,r){t?n(t):e(r)}))}.bind(this)))}getBlock(t,e){return l(this.provider,"eth_getBlockByNumber",{blockNumber:t,returnTransactionObjects:e},void 0,(function(t){return t}))}getBlockNumber(){return l(this.provider,"eth_blockNumber",{},void 0,(function(t){return parseInt(t,16)}))}getTransaction(t){return l(this.provider,"eth_getTransactionByHash",{transactionHash:t},void 0,(function(t){return t}))}getTransactionReceipt(t){return l(this.provider,"eth_getTransactionReceipt",{transactionHash:t},void 0,(function(t){return t}))}getTransactionCount(t,e){return l(this.provider,"eth_getTransactionCount",{address:t,blockNumber:e||this.defaultBlock},void 0,(function(t){return parseInt(t,16)}))}getBalance(t,e){return l(this.provider,"eth_getBalance",{address:t,blockNumber:e||this.defaultBlock},void 0,(function(t){return new BigNumber(t,16)}))}call(t,e){return l(this.provider,"eth_call",{to:t.to,from:t.from||this.defaultAddress.base58,gas:t.gas||"0x1e240",gasPrice:t.gasPrice||"0x0",value:t.value||"0x0",data:t.data,blockNumber:e||this.defaultBlock},void 0,(function(t){return t}))}sendTransaction(t){return new Promise((function(e,n){if(!this.defaultAddress.base58)return void n(new Error("No default address set"));const r={to:t.to?this.utils.toTronAddress(t.to):"",from:this.defaultAddress.base58,gas:t.gas||"0x1e240",gasPrice:t.gasPrice||"0x0",value:t.value?this.utils.fromDecimal(t.value.toString()):"0x0",data:t.data||"0x0",nonce:t.nonce};m(this.provider,r).then((function(t){e(t)}).bind(this)).catch((function(t){n(t)}))}.bind(this)))}signTransaction(t){return new Promise((function(e,n){if(!this.defaultAddress.base58)return void n(new Error("No default address set"));const r={to:t.to?this.utils.toTronAddress(t.to):"",from:this.defaultAddress.base58,gas:t.gas||"0x1e240",gasPrice:t.gasPrice||"0x0",value:t.value?this.utils.fromDecimal(t.value.toString()):"0x0",data:t.data||"0x0",nonce:t.nonce};this.provider.signTransaction?this.provider.signTransaction(r).then((function(t){e(t)})).catch((function(t){n(t)})):n(new Error("Provider does not support signTransaction"))}.bind(this)))}sign(t,e){return p(this.provider,e,t)}signTypedData(t,e,n){return d(this.provider,t,e,n)}getAccounts(){return f(this.provider)}setDefaultAccount(t){this.defaultAddress={base58:this.utils.toTronAddress(t),hex:this.utils.fromTronAddress(t)}}contract(t,e){return new Promise((function(n,r){try{const o=new M(this,t,e);n(o)}catch(t){r(t)}}))}waitForTransaction(t){return new Promise((function(e,n){const r=Date.now();const o=setInterval((function(){this.getTransactionReceipt(t).then((function(t){if(t){clearInterval(o),e(t)}else if(Date.now()-r>this.transactionPollingTimeout){clearInterval(o),n(new Error("Transaction timeout"))}}).bind(this)).catch((function(t){clearInterval(o),n(t)}))}.bind(this),this.transactionPollingInterval)}))}}class M{constructor(t,e,n){this.tronWeb=t,this.address=n?this.tronWeb.utils.toTronAddress(n):null,this.abi=e,this.methods={},this.events={},this._decodeABI(),this._encodeABI()}._decodeABI(){const t=this;this.abi.forEach((function(e){if("function"===e.type){const n={name:e.name,inputs:e.inputs,outputs:e.outputs,constant:"constant"in e?e.constant:"view"===e.stateMutability,payable:e.payable||!1,type:e.type,stateMutability:e.stateMutability,signature:t._getFunctionSignature(e)};t.methods[e.name]=function(){const r=Array.prototype.slice.call(arguments);return new P(t.tronWeb,t.address,n,r)}}else if("event"===e.type){const n={name:e.name,inputs:e.inputs,anonymous:e.anonymous,signature:t._getEventSignature(e)};t.events[e.name]=n}}))}._encodeABI(){}._getFunctionSignature(t){return t.name+"("+t.inputs.map((function(t){return t.type})).join(",")+")"}._getEventSignature(t){return t.name+"("+t.inputs.map((function(t){return t.type})).join(",")+")"}._getFunctionSelector(t){return this.tronWeb.utils.sha3(this._getFunctionSignature(t)).slice(0,8)}at(t){this.address=this.tronWeb.utils.toTronAddress(t);return this}deploy(t){if(!this.abi.some((function(t){return"constructor"===t.type})))throw new Error("No constructor found");const e=this.abi.find((function(t){return"constructor"===t.type}));return new P(this.tronWeb,null,{name:"constructor",inputs:e.inputs,outputs:[],constant:!1,payable:e.payable||!1,type:"constructor",stateMutability:e.stateMutability},t)}}class P{constructor(t,e,n,r){this.tronWeb=t,this.contractAddress=e,this.method=n,this.args=r,this._gas="0x1e240",this._gasPrice="0x0",this._value="0x0",this._from=null}gas(t){this._gas=this.tronWeb.utils.fromDecimal(t.toString());return this}gasPrice(t){this._gasPrice=this.tronWeb.utils.fromDecimal(t.toString());return this}value(t){if(!this.method.payable)throw new Error("Cannot send value to non-payable method");this._value=this.tronWeb.utils.fromDecimal(t.toString());return this}from(t){this._from=this.tronWeb.utils.toTronAddress(t);return this}encodeABI(){if("constructor"===this.method.name){const t=this._encodeConstructorParams();return t}else{const t=this.tronWeb.utils.sha3(this.method.signature).slice(0,8),e=this._encodeParams(this.method.inputs,this.args);return"0x"+t+e}}_encodeConstructorParams(){return this._encodeParams(this.method.inputs,this.args)}_encodeParams(t,e){let n="";const r=this._validateParams(t,e);return t.forEach((function(t,o){n+=P._encodeParam(t.type,r[o])})),n}static _encodeParam(t,e){switch(t){case"address":return P._encodeAddress(e);case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"uint256":return P._encodeUint(e);case"int8":case"int16":case"int32":case"int64":case"int128":case"int256":return P._encodeInt(e,t);case"bool":return P._encodeBool(e);case"bytes":case"bytes1":case"bytes2":case"bytes32":return P._encodeBytes(e,t);case"string":return P._encodeString(e);default:if(t.startsWith("uint"))return P._encodeUint(e);if(t.startsWith("int"))return P._encodeInt(e,t);if(t.startsWith("bytes"))return P._encodeBytes(e,t);if(t.startsWith("["))return P._encodeArray(e,t);throw new Error(`Unsupported type: ${t}`)}}static _encodeAddress(t){return t.padStart(64,"0")}static _encodeUint(t){return t.toHexString().slice(2).padStart(64,"0")}static _encodeInt(t,e){const n=parseInt(e.replace("int","")),r=new BigNumber(2).pow(n);let o=t;o.isNegative()&&(o=o.plus(r));return o.toHexString().slice(2).padStart(64,"0")}static _encodeBool(t){return t?"0000000000000000000000000000000000000000000000000000000000000001":"0000000000000000000000000000000000000000000000000000000000000000"}static _encodeBytes(t,e){let n=t.startsWith("0x")?t.slice(2):t;const r=parseInt(e.replace("bytes","")||n.length/2);if(n.length%2!==0)throw new Error("Bytes must be even length");if(r&&n.length>2*r)throw new Error(`Bytes length exceeds ${r}`);return n.padEnd(64,"0")}static _encodeString(t){const e=Buffer.from(t,"utf8").toString("hex");return e.padEnd(64,"0")}static _encodeArray(t,e){let n="";const r=e.match(/^(\w+)\[(\d*)\]$/);if(!r)throw new Error(`Invalid array type: ${e}`);const o=r[1],i=r[2]?parseInt(r[2]):t.length;if(t.length!==i)throw new Error(`Array length does not match type: ${t.length} != ${i}`);return t.forEach((function(t){n+=P._encodeParam(o,t)})),n}_validateParams(t,e){if(t.length!==e.length)throw new Error(`Invalid number of parameters: expected ${t.length}, got ${e.length}`);const n=[];return t.forEach((function(t,o){const i=e[o];switch(t.type){case"address":if(!this.tronWeb.utils.isAddress(i))throw new Error(`Invalid address: ${i}`);n.push(this.tronWeb.utils.fromTronAddress(i).slice(2));break;case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"uint256":case"int8":case"int16":case"int32":case"int64":case"int128":case"int256":n.push(this.tronWeb.utils.toBigNumber(i));break;case"bool":n.push(!!i);break;case"bytes":case"bytes1":case"bytes2":case"bytes32":n.push(this.tronWeb.utils.toHex(i).slice(2));break;case"string":n.push(i);break;default:if(t.type.startsWith("uint")||t.type.startsWith("int"))n.push(this.tronWeb.utils.toBigNumber(i));else if(t.type.startsWith("bytes"))n.push(this.tronWeb.utils.toHex(i).slice(2));else if(t.type.startsWith("[")){const r=t.type.match(/^(\w+)\[(\d*)\]$/);if(!r)throw new Error(`Invalid array type: ${t.type}`);const o=r[1];if(!Array.isArray(i))throw new Error(`Expected array for type: ${t.type}`);const s=this._validateParams(i.map((function(){return{type:o}})),i);n.push(s);break;}else throw new Error(`Unsupported parameter type: ${t.type}`)}}.bind(this))),n}send(t){const e={to:this.contractAddress,from:this._from||this.tronWeb.defaultAddress.base58,gas:this._gas,gasPrice:this._gasPrice,value:this._value,data:this.encodeABI()};return this.tronWeb.sendTransaction(e).then((function(t){return this._handleTransactionResponse(t)}).bind(this))}_handleTransactionResponse(t){return new Promise((function(e,n){this.tronWeb.waitForTransaction(t).then((function(t){e(this._decodeOutput(t.logs))})).catch((function(t){n(t)}))}.bind(this))}_decodeOutput(t){if(!this.method.outputs||0===this.method.outputs.length)return{};const e={};if(this.method.outputs.length===1)return this._decodeParam(this.method.outputs[0],t);this.method.outputs.forEach((function(t,n){e[t.name||`return${n}`]=this._decodeParam(t,t.logs[n])}.bind(this)));return e}_decodeParam(t,e){switch(t.type){case"address":return this.tronWeb.utils.toTronAddress("0x"+e);case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"uint256":return this.tronWeb.utils.toDecimal(e);case"int8":case"int16":case"int32":case"int64":case"int128":case"int256":const n=parseInt(t.type.replace("int",""));return this.tronWeb.utils.formatters.outputInt(e,n);case"bool":return"0x1"===e||"1"===e;case"bytes":case"bytes1":case"bytes2":case"bytes32":return this.tronWeb.utils.hexToBytes(e);case"string":return this.tronWeb.utils.toUtf8(e);default:if(t.type.startsWith("uint"))return this.tronWeb.utils.toDecimal(e);if(t.type.startsWith("int")){const n=parseInt(t.type.replace("int",""));return this.tronWeb.utils.formatters.outputInt(e,n);}if(t.type.startsWith("bytes"))return this.tronWeb.utils.hexToBytes(e);if(t.type.startsWith("[")){const n=t.type.match(/^(\w+)\[(\d*)\]$/);if(!n)throw new Error(`Invalid array type: ${t.type}`);const r=n[1];return e.map((function(t){return this._decodeParam({type:r},t)}).bind(this));}throw new Error(`Unsupported output type: ${t.type}`)}}call(t){const e={to:this.contractAddress,from:this._from||this.tronWeb.defaultAddress.base58,gas:this._gas,gasPrice:this._gasPrice,value:this._value,data:this.encodeABI()};return this.tronWeb.call(e).then((function(t){return this._decodeCallOutput(t)}).bind(this))}_decodeCallOutput(t){if(!this.method.outputs||0===this.method.outputs.length)return{};const e={};if(this.method.outputs.length===1)return this._decodeParam(this.method.outputs[0],t);let n=0;return this.method.outputs.forEach((function(r,o){const i=this._decodeParamFromData(r,t,n);e[r.name||`return${o}`]=i.value,n=i.offset}.bind(this))),e}_decodeParamFromData(t,e,n){const r={};switch(t.type){case"address":r.value=this.tronWeb.utils.toTronAddress("0x"+e.substr(n+2,40)),r.offset=n+64;break;case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"uint256":case"int8":case"int16":case"int32":case"int64":case"int128":case"int256":r.value="uint"===t.type.slice(0,4)?this.tronWeb.utils.toDecimal("0x"+e.substr(n,64)):this.tronWeb.utils.formatters.outputInt("0x"+e.substr(n,64),parseInt(t.type.replace("int",""))),r.offset=n+64;break;case"bool":r.value="0000000000000000000000000000000000000000000000000000000000000001"===e.substr(n,64),r.offset=n+64;break;case"bytes":case"bytes1":case"bytes2":case"bytes32":const o=parseInt(t.type.replace("bytes","")||32);r.value=this.tronWeb.utils.hexToBytes("0x"+e.substr(n,2*o)),r.offset=n+64;break;case"string":const i=this.tronWeb.utils.toDecimal("0x"+e.substr(n,64));r.value=this.tronWeb.utils.toUtf8("0x"+e.substr(n+64,2*i)),r.offset=n+64+2*i;break;default:if(t.type.startsWith("uint")||t.type.startsWith("int"))r.value="uint"===t.type.slice(0,4)?this.tronWeb.utils.toDecimal("0x"+e.substr(n,64)):this.tronWeb.utils.formatters.outputInt("0x"+e.substr(n,64),parseInt(t.type.replace("int",""))),r.offset=n+64;else if(t.type.startsWith("bytes")){const o=parseInt(t.type.replace("bytes","")||32);r.value=this.tronWeb.utils.hexToBytes("0x"+e.substr(n,2*o)),r.offset=n+64;}else if(t.type.startsWith("[")){const o=t.type.match(/^(\w+)\[(\d*)\]$/);if(!o)throw new Error(`Invalid array type: ${t.type}`);const i=o[1],s=o[2]?parseInt(o[2]):void 0;let a=[];const c=s?s:this.tronWeb.utils.toDecimal("0x"+e.substr(n,64));let u=n+64;for(let t=0;t<c;t++){const r=this._decodeParamFromData({type:i},e,u);a.push(r.value),u=r.offset;}r.value=a,r.offset=u;break;}else throw new Error(`Unsupported output type: ${t.type}`)}return r}}return N}));